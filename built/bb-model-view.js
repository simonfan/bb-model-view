//     bb-model-view
//     (c) simonfan
//     bb-model-view is licensed under the MIT terms.

define("__bb-model-view/bind",["require","exports","module","lodash","lowercase-backbone","jquery-value"],function(e,i){{var t=e("lodash");e("lowercase-backbone"),e("jquery-value")}i.DOMToModel=function(e){e.on("change",t.bind(function(e){var i=$(e.target);return this.updateModel(i),!1},this))},i.modelToDOM=function(e){e.on("change",t.bind(function(){this.updateView()},this))}}),define("__bb-model-view/update",["require","exports","module","lodash"],function(e,i){e("lodash");i.updateView=function(){return this.pump.pump(),this},i.updateModel=function(e){return this.pump.drain(e),this}}),define("__bb-model-view/model-pump",["require","exports","module","jquery-pump","lodash"],function(e,i){var t=e("jquery-pump"),o=e("lodash");i.modelPump=t.extend({initialize:function(e,i){o.bindAll(this,["srcGet","srcSet"]),t.prototype.initialize.call(this,e,i),i=i||{},o.each(["stringify","stringifiers","parse","parsers"],function(e){this[e]=i[e]||this[e]},this)},srcGet:function(e,i){return e.get(i)},srcSet:function(e,i,t){return e.set(i,t)}})}),define("__bb-model-view/elements",["require","exports","module","jquery-selector-data-prefix"],function(e,i){e("jquery-selector-data-prefix"),i.prefix="bind",i.boundElements=function(){var e=this.$el.find(":data-prefix("+this.prefix+")");return this.$el.add(e)}}),define("bb-model-view",["require","exports","module","lodash","lowercase-backbone","jquery-value","./__bb-model-view/bind","./__bb-model-view/update","./__bb-model-view/model-pump","./__bb-model-view/elements"],function(e,i,t){var o=e("lodash"),n=e("lowercase-backbone"),r=(e("jquery-value"),e("./__bb-model-view/bind")),s=["parse","parsers","stringify","stringifiers","prefix","formats"],l=["prefix"],d=t.exports=n.view.extend({initialize:function(){n.view.prototype.initialize.apply(this,arguments),this.initializeModelView.apply(this,arguments)},initializeModelView:function(e){if(!this.model)throw new Error("No model set for model view.");if(!this.$el)throw new Error("No el set on model view.");o.each(l,function(i){this[i]=e[i]||this[i]},this);var i=this.boundElements(),t=o.pick(e,s);o.defaults(t,o.pick(this,s)),t.destination=i,this.pump=this.modelPump(this.model,t),r.DOMToModel.call(this,i),r.modelToDOM.call(this,this.model),this.updateView()}});d.assignProto(e("./__bb-model-view/update")).assignProto(e("./__bb-model-view/model-pump")).assignProto(e("./__bb-model-view/elements"))});