/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash -o ./dist/lodash.compat.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */

//     jquery-selector-data-prefix
//     (c) simonfan
//     jquery-selector-data-prefix is licensed under the MIT terms.

//     jquery-value
//     (c) simonfan
//     jquery-value is licensed under the MIT terms.

/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

//     pipe
//     (c) simonfan
//     pipe is licensed under the MIT terms.

//     pump
//     (c) simonfan
//     pump is licensed under the MIT terms.

//     jquery-meta-data
//     (c) simonfan
//     jquery-meta-data is licensed under the MIT terms.

//     jquery-pump
//     (c) simonfan
//     jquery-pump is licensed under the MIT terms.

//     bb-model-view
//     (c) simonfan
//     bb-model-view is licensed under the MIT terms.

(function(){function t(t,e,n){for(var r=(n||0)-1,i=t?t.length:0;++r<i;)if(t[r]===e)return r;return-1}function e(e,n){var r=typeof n;if(e=e.cache,"boolean"==r||null==n)return e[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:b+n;return e=(e=e[r])&&e[i],"object"==r?e&&t(e,n)>-1?0:-1:e?0:-1}function n(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:b+t,i=e[n]||(e[n]={});"object"==n?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function r(t){return t.charCodeAt(0)}function i(t,e){for(var n=t.criteria,r=e.criteria,i=-1,o=n.length;++i<o;){var u=n[i],a=r[i];if(u!==a){if(u>a||"undefined"==typeof u)return 1;if(a>u||"undefined"==typeof a)return-1}}return t.index-e.index}function o(t){var e=-1,r=t.length,i=t[0],o=t[r/2|0],u=t[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&u&&"object"==typeof u)return!1;var a=s();a["false"]=a["null"]=a["true"]=a.undefined=!1;var c=s();for(c.array=t,c.cache=a,c.push=n;++e<r;)c.push(t[e]);return c}function u(t){return"\\"+Y[t]}function a(){return v.pop()||[]}function s(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function f(t){t.length=0,v.length<x&&v.push(t)}function l(t){var e=t.cache;e&&l(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,m.length<x&&m.push(t)}function p(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(0>i?0:i);++r<i;)o[r]=t[e+r];return o}function h(n){function v(t){return t&&"object"==typeof t&&!li(t)&&Mr.call(t,"__wrapped__")?t:new m(t)}function m(t,e){this.__chain__=!!e,this.__wrapped__=t}function x(t){function e(){if(r){var t=p(r);Ur.apply(t,arguments)}if(this instanceof e){var o=ee(n.prototype),u=n.apply(o,t||arguments);return $e(u)?u:o}return n.apply(i,t||arguments)}var n=t[0],r=t[2],i=t[4];return fi(e,t),e}function Y(t,e,n,r,i){if(n){var o=n(t);if("undefined"!=typeof o)return o}var u=$e(t);if(!u)return t;var s=$r.call(t);if(!W[s]||!si.nodeClass&&c(t))return t;var l=ui[s];switch(s){case z:case G:return new l(+t);case M:case K:return new l(t);case H:return o=l(t.source,S.exec(t)),o.lastIndex=t.lastIndex,o}var h=li(t);if(e){var d=!r;r||(r=a()),i||(i=a());for(var v=r.length;v--;)if(r[v]==t)return i[v];o=h?l(t.length):{}}else o=h?p(t):ji({},t);return h&&(Mr.call(t,"index")&&(o.index=t.index),Mr.call(t,"input")&&(o.input=t.input)),e?(r.push(t),i.push(o),(h?xi:qi)(t,function(t,u){o[u]=Y(t,e,n,r,i)}),d&&(f(r),f(i)),o):o}function ee(t){return $e(t)?Xr(t):{}}function ne(t,e,n){if("function"!=typeof t)return or;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(si.funcNames&&(r=!t.name),r=r||!si.funcDecomp,!r)){var i=Br.call(t);si.funcNames||(r=!E.test(i)),r||(r=I.test(i),fi(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return Bn(t,e)}function re(t){function e(){var t=s?u:this;if(i){var d=p(i);Ur.apply(d,arguments)}if((o||f)&&(d||(d=p(arguments)),o&&Ur.apply(d,o),f&&d.length<a))return r|=16,re([n,l?r:-4&r,d,null,u,a]);if(d||(d=arguments),c&&(n=t[h]),this instanceof e){t=ee(n.prototype);var v=n.apply(t,d);return $e(v)?v:t}return n.apply(t,d)}var n=t[0],r=t[1],i=t[2],o=t[3],u=t[4],a=t[5],s=1&r,c=2&r,f=4&r,l=8&r,h=n;return fi(e,t),e}function ie(n,r){var i=-1,u=ve(),a=n?n.length:0,s=a>=_&&u===t,c=[];if(s){var f=o(r);f?(u=e,r=f):s=!1}for(;++i<a;){var p=n[i];u(r,p)<0&&c.push(p)}return s&&l(r),c}function ue(t,e,n,r){for(var i=(r||0)-1,o=t?t.length:0,u=[];++i<o;){var a=t[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(li(a)||be(a))){e||(a=ue(a,e,n));var s=-1,c=a.length,f=u.length;for(u.length+=c;++s<c;)u[f++]=a[s]}else n||u.push(a)}return u}function ae(t,e,n,r,i,o){if(n){var u=n(t,e);if("undefined"!=typeof u)return!!u}if(t===e)return 0!==t||1/t==1/e;var s=typeof t,l=typeof e;if(!(t!==t||t&&J[s]||e&&J[l]))return!1;if(null==t||null==e)return t===e;var p=$r.call(t),h=$r.call(e);if(p==L&&(p=U),h==L&&(h=U),p!=h)return!1;switch(p){case z:case G:return+t==+e;case M:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case H:case K:return t==Or(e)}var d=p==F;if(!d){var v=Mr.call(t,"__wrapped__"),m=Mr.call(e,"__wrapped__");if(v||m)return ae(v?t.__wrapped__:t,m?e.__wrapped__:e,n,r,i,o);if(p!=U||!si.nodeClass&&(c(t)||c(e)))return!1;var g=!si.argsObject&&be(t)?Sr:t.constructor,y=!si.argsObject&&be(e)?Sr:e.constructor;if(g!=y&&!(De(g)&&g instanceof g&&De(y)&&y instanceof y)&&"constructor"in t&&"constructor"in e)return!1}var b=!i;i||(i=a()),o||(o=a());for(var _=i.length;_--;)if(i[_]==t)return o[_]==e;var x=0;if(u=!0,i.push(t),o.push(e),d){if(_=t.length,x=e.length,u=x==_,u||r)for(;x--;){var j=_,w=e[x];if(r)for(;j--&&!(u=ae(t[j],w,n,r,i,o)););else if(!(u=ae(t[x],w,n,r,i,o)))break}}else ki(e,function(e,a,s){return Mr.call(s,a)?(x++,u=Mr.call(t,a)&&ae(t[a],e,n,r,i,o)):void 0}),u&&!r&&ki(t,function(t,e,n){return Mr.call(n,e)?u=--x>-1:void 0});return i.pop(),o.pop(),b&&(f(i),f(o)),u}function se(t,e,n,r,i){(li(e)?rn:qi)(e,function(e,o){var u,a,s=e,c=t[o];if(e&&((a=li(e))||Pi(e))){for(var f=r.length;f--;)if(u=r[f]==e){c=i[f];break}if(!u){var l;n&&(s=n(c,e),(l="undefined"!=typeof s)&&(c=s)),l||(c=a?li(c)?c:[]:Pi(c)?c:{}),r.push(e),i.push(c),l||se(c,e,n,r,i)}}else n&&(s=n(c,e),"undefined"==typeof s&&(s=e)),"undefined"!=typeof s&&(c=s);t[o]=c})}function ce(t,e){return t+Gr(oi()*(e-t+1))}function fe(n,r,i){var u=-1,s=ve(),c=n?n.length:0,p=[],h=!r&&c>=_&&s===t,d=i||h?a():p;if(h){var v=o(d);s=e,d=v}for(;++u<c;){var m=n[u],g=i?i(m,u,n):m;(r?!u||d[d.length-1]!==g:s(d,g)<0)&&((i||h)&&d.push(g),p.push(m))}return h?(f(d.array),l(d)):i&&f(d),p}function le(t){return function(e,n,r){var i={};if(n=v.createCallback(n,r,3),li(e))for(var o=-1,u=e.length;++o<u;){var a=e[o];t(i,a,n(a,o,e),e)}else xi(e,function(e,r,o){t(i,e,n(e,r,o),o)});return i}}function pe(t,e,n,r,i,o){var u=1&e,a=2&e,s=4&e,c=16&e,f=32&e;if(!a&&!De(t))throw new Ar;c&&!n.length&&(e&=-17,c=n=!1),f&&!r.length&&(e&=-33,f=r=!1);var l=t&&t.__bindData__;if(l&&l!==!0)return l=p(l),l[2]&&(l[2]=p(l[2])),l[3]&&(l[3]=p(l[3])),!u||1&l[1]||(l[4]=i),!u&&1&l[1]&&(e|=8),!s||4&l[1]||(l[5]=o),c&&Ur.apply(l[2]||(l[2]=[]),n),f&&Qr.apply(l[3]||(l[3]=[]),r),l[1]|=e,pe.apply(null,l);var h=1==e||17===e?x:re;return h([t,e,n,r,i,o])}function he(){X.shadowedProps=D,X.array=X.bottom=X.loop=X.top="",X.init="iterable",X.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var n in t)X[n]=t[n];var r=X.args;X.firstArg=/^[^,]+/.exec(r)[0];var i=qr("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+ci(X)+"\n}");return i(ne,B,Ir,Mr,y,be,li,Be,X.keys,Nr,J,ai,K,Tr,$r)}function de(t){return gi[t]}function ve(){var e=(e=v.indexOf)===qn?t:e;return e}function me(t){return"function"==typeof t&&Lr.test(t)}function ge(t){var e,n;return!t||$r.call(t)!=U||(e=t.constructor,De(e)&&!(e instanceof e))||!si.argsClass&&be(t)||!si.nodeClass&&c(t)?!1:si.ownLast?(ki(t,function(t,e,r){return n=Mr.call(r,e),!1}),n!==!1):(ki(t,function(t,e){n=e}),"undefined"==typeof n||Mr.call(t,n))}function ye(t){return yi[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&$r.call(t)==L||!1}function _e(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n=e,e=!1),Y(t,e,"function"==typeof n&&ne(n,r,1))}function xe(t,e,n){return Y(t,!0,"function"==typeof e&&ne(e,n,1))}function je(t,e){var n=ee(t);return e?ji(n,e):n}function we(t,e,n){var r;return e=v.createCallback(e,n,3),qi(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function ke(t,e,n){var r;return e=v.createCallback(e,n,3),Pe(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function qe(t,e,n){var r=[];ki(t,function(t,e){r.push(e,t)});var i=r.length;for(e=ne(e,n,3);i--&&e(r[i--],r[i],t)!==!1;);return t}function Pe(t,e,n){var r=hi(t),i=r.length;for(e=ne(e,n,3);i--;){var o=r[i];if(e(t[o],o,t)===!1)break}return t}function Ce(t){var e=[];return ki(t,function(t,n){De(t)&&e.push(n)}),e.sort()}function Se(t,e){return t?Mr.call(t,e):!1}function Ee(t){for(var e=-1,n=hi(t),r=n.length,i={};++e<r;){var o=n[e];i[t[o]]=o}return i}function Oe(t){return t===!0||t===!1||t&&"object"==typeof t&&$r.call(t)==z||!1}function Ae(t){return t&&"object"==typeof t&&$r.call(t)==G||!1}function Re(t){return t&&1===t.nodeType||!1}function Ie(t){var e=!0;if(!t)return e;var n=$r.call(t),r=t.length;return n==F||n==K||(si.argsClass?n==L:be(t))||n==U&&"number"==typeof r&&De(t.splice)?!r:(qi(t,function(){return e=!1}),e)}function Ne(t,e,n,r){return ae(t,e,"function"==typeof n&&ne(n,r,2))}function Te(t){return Yr(t)&&!ti(parseFloat(t))}function De(t){return"function"==typeof t}function $e(t){return!(!t||!J[typeof t])}function Le(t){return ze(t)&&t!=+t}function Fe(t){return null===t}function ze(t){return"number"==typeof t||t&&"object"==typeof t&&$r.call(t)==M||!1}function Ge(t){return t&&J[typeof t]&&$r.call(t)==H||!1}function Be(t){return"string"==typeof t||t&&"object"==typeof t&&$r.call(t)==K||!1}function Ve(t){return"undefined"==typeof t}function Me(t,e,n){var r={};return e=v.createCallback(e,n,3),qi(t,function(t,n,i){r[n]=e(t,n,i)}),r}function Ue(t){var e=arguments,n=2;if(!$e(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var r=ne(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(r=e[--n]);for(var i=p(arguments,1,n),o=-1,u=a(),s=a();++o<n;)se(t,i[o],r,u,s);return f(u),f(s),t}function He(t,e,n){var r={};if("function"!=typeof e){var i=[];ki(t,function(t,e){i.push(e)}),i=ie(i,ue(arguments,!0,!1,1));for(var o=-1,u=i.length;++o<u;){var a=i[o];r[a]=t[a]}}else e=v.createCallback(e,n,3),ki(t,function(t,n,i){e(t,n,i)||(r[n]=t)});return r}function Ke(t){for(var e=-1,n=hi(t),r=n.length,i=xr(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function We(t,e,n){var r={};if("function"!=typeof e)for(var i=-1,o=ue(arguments,!0,!1,1),u=$e(t)?o.length:0;++i<u;){var a=o[i];a in t&&(r[a]=t[a])}else e=v.createCallback(e,n,3),ki(t,function(t,n,i){e(t,n,i)&&(r[n]=t)});return r}function Qe(t,e,n,r){var i=li(t);if(null==n)if(i)n=[];else{var o=t&&t.constructor,u=o&&o.prototype;n=ee(u)}return e&&(e=v.createCallback(e,r,4),(i?xi:qi)(t,function(t,r,i){return e(n,t,r,i)})),n}function Ze(t){for(var e=-1,n=hi(t),r=n.length,i=xr(r);++e<r;)i[e]=t[n[e]];return i}function Xe(t){var e=arguments,n=-1,r=ue(e,!0,!1,1),i=e[2]&&e[2][e[1]]===t?1:r.length,o=xr(i);for(si.unindexedChars&&Be(t)&&(t=t.split(""));++n<i;)o[n]=t[r[n]];return o}function Je(t,e,n){var r=-1,i=ve(),o=t?t.length:0,u=!1;return n=(0>n?ni(0,o+n):n)||0,li(t)?u=i(t,e,n)>-1:"number"==typeof o?u=(Be(t)?t.indexOf(e,n):i(t,e,n))>-1:xi(t,function(t){return++r>=n?!(u=t===e):void 0}),u}function Ye(t,e,n){var r=!0;if(e=v.createCallback(e,n,3),li(t))for(var i=-1,o=t.length;++i<o&&(r=!!e(t[i],i,t)););else xi(t,function(t,n,i){return r=!!e(t,n,i)});return r}function tn(t,e,n){var r=[];if(e=v.createCallback(e,n,3),li(t))for(var i=-1,o=t.length;++i<o;){var u=t[i];e(u,i,t)&&r.push(u)}else xi(t,function(t,n,i){e(t,n,i)&&r.push(t)});return r}function en(t,e,n){if(e=v.createCallback(e,n,3),!li(t)){var r;return xi(t,function(t,n,i){return e(t,n,i)?(r=t,!1):void 0}),r}for(var i=-1,o=t.length;++i<o;){var u=t[i];if(e(u,i,t))return u}}function nn(t,e,n){var r;return e=v.createCallback(e,n,3),on(t,function(t,n,i){return e(t,n,i)?(r=t,!1):void 0}),r}function rn(t,e,n){if(e&&"undefined"==typeof n&&li(t))for(var r=-1,i=t.length;++r<i&&e(t[r],r,t)!==!1;);else xi(t,e,n);return t}function on(t,e,n){var r=t,i=t?t.length:0;if(e=e&&"undefined"==typeof n?e:ne(e,n,3),li(t))for(;i--&&e(t[i],i,t)!==!1;);else{if("number"!=typeof i){var o=hi(t);i=o.length}else si.unindexedChars&&Be(t)&&(r=t.split(""));xi(t,function(t,n,u){return n=o?o[--i]:--i,e(r[n],n,u)})}return t}function un(t,e){var n=p(arguments,2),r=-1,i="function"==typeof e,o=t?t.length:0,u=xr("number"==typeof o?o:0);return rn(t,function(t){u[++r]=(i?e:t[e]).apply(t,n)}),u}function an(t,e,n){var r=-1,i=t?t.length:0,o=xr("number"==typeof i?i:0);if(e=v.createCallback(e,n,3),li(t))for(;++r<i;)o[r]=e(t[r],r,t);else xi(t,function(t,n,i){o[++r]=e(t,n,i)});return o}function sn(t,e,n){var i=-1/0,o=i;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&li(t))for(var u=-1,a=t.length;++u<a;){var s=t[u];s>o&&(o=s)}else e=null==e&&Be(t)?r:v.createCallback(e,n,3),xi(t,function(t,n,r){var u=e(t,n,r);u>i&&(i=u,o=t)});return o}function cn(t,e,n){var i=1/0,o=i;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&li(t))for(var u=-1,a=t.length;++u<a;){var s=t[u];o>s&&(o=s)}else e=null==e&&Be(t)?r:v.createCallback(e,n,3),xi(t,function(t,n,r){var u=e(t,n,r);i>u&&(i=u,o=t)});return o}function fn(t,e,n,r){var i=arguments.length<3;if(e=v.createCallback(e,r,4),li(t)){var o=-1,u=t.length;for(i&&(n=t[++o]);++o<u;)n=e(n,t[o],o,t)}else xi(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)});return n}function ln(t,e,n,r){var i=arguments.length<3;return e=v.createCallback(e,r,4),on(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function pn(t,e,n){return e=v.createCallback(e,n,3),tn(t,function(t,n,r){return!e(t,n,r)})}function hn(t,e,n){if(t&&"number"!=typeof t.length?t=Ze(t):si.unindexedChars&&Be(t)&&(t=t.split("")),null==e||n)return t?t[ce(0,t.length-1)]:d;var r=dn(t);return r.length=ri(ni(0,e),r.length),r}function dn(t){var e=-1,n=t?t.length:0,r=xr("number"==typeof n?n:0);return rn(t,function(t){var n=ce(0,++e);r[e]=r[n],r[n]=t}),r}function vn(t){var e=t?t.length:0;return"number"==typeof e?e:hi(t).length}function mn(t,e,n){var r;if(e=v.createCallback(e,n,3),li(t))for(var i=-1,o=t.length;++i<o&&!(r=e(t[i],i,t)););else xi(t,function(t,n,i){return!(r=e(t,n,i))});return!!r}function gn(t,e,n){var r=-1,o=li(e),u=t?t.length:0,c=xr("number"==typeof u?u:0);for(o||(e=v.createCallback(e,n,3)),rn(t,function(t,n,i){var u=c[++r]=s();o?u.criteria=an(e,function(e){return t[e]}):(u.criteria=a())[0]=e(t,n,i),u.index=r,u.value=t}),u=c.length,c.sort(i);u--;){var p=c[u];c[u]=p.value,o||f(p.criteria),l(p)}return c}function yn(t){return t&&"number"==typeof t.length?si.unindexedChars&&Be(t)?t.split(""):p(t):Ze(t)}function bn(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function _n(t){return ie(t,ue(arguments,!0,!0,1))}function xn(t,e,n){var r=-1,i=t?t.length:0;for(e=v.createCallback(e,n,3);++r<i;)if(e(t[r],r,t))return r;return-1}function jn(t,e,n){var r=t?t.length:0;for(e=v.createCallback(e,n,3);r--;)if(e(t[r],r,t))return r;return-1}function wn(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=-1;for(e=v.createCallback(e,n,3);++o<i&&e(t[o],o,t);)r++}else if(r=e,null==r||n)return t?t[0]:d;return p(t,0,ri(ni(0,r),i))}function kn(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(t=an(t,n,r)),ue(t,e)}function qn(e,n,r){if("number"==typeof r){var i=e?e.length:0;r=0>r?ni(0,i+r):r||0}else if(r){var o=Nn(e,n);return e[o]===n?o:-1}return t(e,n,r)}function Pn(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=i;for(e=v.createCallback(e,n,3);o--&&e(t[o],o,t);)r++}else r=null==e||n?1:e||r;return p(t,0,ri(ni(0,i-r),i))}function Cn(){for(var n=[],r=-1,i=arguments.length,u=a(),s=ve(),c=s===t,p=a();++r<i;){var h=arguments[r];(li(h)||be(h))&&(n.push(h),u.push(c&&h.length>=_&&o(r?n[r]:p)))}var d=n[0],v=-1,m=d?d.length:0,g=[];t:for(;++v<m;){var y=u[0];if(h=d[v],(y?e(y,h):s(p,h))<0){for(r=i,(y||p).push(h);--r;)if(y=u[r],(y?e(y,h):s(n[r],h))<0)continue t;g.push(h)}}for(;i--;)y=u[i],y&&l(y);return f(u),f(p),g}function Sn(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=i;for(e=v.createCallback(e,n,3);o--&&e(t[o],o,t);)r++}else if(r=e,null==r||n)return t?t[i-1]:d;return p(t,ni(0,i-r))}function En(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?ni(0,r+n):ri(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function On(t){for(var e=arguments,n=0,r=e.length,i=t?t.length:0;++n<r;)for(var o=-1,u=e[n];++o<i;)t[o]===u&&(Wr.call(t,o--,1),i--);return t}function An(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var r=-1,i=ni(0,Fr((e-t)/(n||1))),o=xr(i);++r<i;)o[r]=t,t+=n;return o}function Rn(t,e,n){var r=-1,i=t?t.length:0,o=[];for(e=v.createCallback(e,n,3);++r<i;){var u=t[r];e(u,r,t)&&(o.push(u),Wr.call(t,r--,1),i--)}return o}function In(t,e,n){if("number"!=typeof e&&null!=e){var r=0,i=-1,o=t?t.length:0;for(e=v.createCallback(e,n,3);++i<o&&e(t[i],i,t);)r++}else r=null==e||n?1:ni(0,e);return p(t,r)}function Nn(t,e,n,r){var i=0,o=t?t.length:i;for(n=n?v.createCallback(n,r,1):or,e=n(e);o>i;){var u=i+o>>>1;n(t[u])<e?i=u+1:o=u}return i}function Tn(){return fe(ue(arguments,!0,!0))}function Dn(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(n=v.createCallback(n,r,3)),fe(t,e,n)}function $n(t){return ie(t,p(arguments,1))}function Ln(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(li(n)||be(n))var r=r?fe(ie(r,n).concat(ie(n,r))):n}return r||[]}function Fn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?sn(Oi(t,"length")):0,r=xr(0>n?0:n);++e<n;)r[e]=Oi(t,e);return r}function zn(t,e){var n=-1,r=t?t.length:0,i={};for(e||!r||li(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Gn(t,e){if(!De(e))throw new Ar;return function(){return--t<1?e.apply(this,arguments):void 0}}function Bn(t,e){return arguments.length>2?pe(t,17,p(arguments,2),null,e):pe(t,1,null,null,e)}function Vn(t){for(var e=arguments.length>1?ue(arguments,!0,!1,1):Ce(t),n=-1,r=e.length;++n<r;){var i=e[n];t[i]=pe(t[i],1,null,null,t)}return t}function Mn(t,e){return arguments.length>2?pe(e,19,p(arguments,2),null,t):pe(e,3,null,null,t)}function Un(){for(var t=arguments,e=t.length;e--;)if(!De(t[e]))throw new Ar;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Hn(t,e){return e="number"==typeof e?e:+e||t.length,pe(t,4,null,null,null,e)}function Kn(t,e,n){var r,i,o,u,a,s,c,f=0,l=!1,p=!0;if(!De(t))throw new Ar;if(e=ni(0,e)||0,n===!0){var h=!0;p=!1}else $e(n)&&(h=n.leading,l="maxWait"in n&&(ni(e,n.maxWait)||0),p="trailing"in n?n.trailing:p);var v=function(){var n=e-(Ri()-u);if(0>=n){i&&zr(i);var l=c;i=s=c=d,l&&(f=Ri(),o=t.apply(a,r),s||i||(r=a=null))}else s=Kr(v,n)},m=function(){s&&zr(s),i=s=c=d,(p||l!==e)&&(f=Ri(),o=t.apply(a,r),s||i||(r=a=null))};return function(){if(r=arguments,u=Ri(),a=this,c=p&&(s||!h),l===!1)var n=h&&!s;else{i||h||(f=u);var d=l-(u-f),g=0>=d;g?(i&&(i=zr(i)),f=u,o=t.apply(a,r)):i||(i=Kr(m,d))}return g&&s?s=zr(s):s||e===l||(s=Kr(v,e)),n&&(g=!0,o=t.apply(a,r)),!g||s||i||(r=a=null),o}}function Wn(t){if(!De(t))throw new Ar;var e=p(arguments,1);return Kr(function(){t.apply(d,e)},1)}function Qn(t,e){if(!De(t))throw new Ar;var n=p(arguments,2);return Kr(function(){t.apply(d,n)},e)}function Zn(t,e){if(!De(t))throw new Ar;var n=function(){var r=n.cache,i=e?e.apply(this,arguments):b+arguments[0];return Mr.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return n.cache={},n}function Xn(t){var e,n;if(!De(t))throw new Ar;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Jn(t){return pe(t,16,p(arguments,1))}function Yn(t){return pe(t,32,null,p(arguments,1))}function tr(t,e,n){var r=!0,i=!0;if(!De(t))throw new Ar;return n===!1?r=!1:$e(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),Q.leading=r,Q.maxWait=e,Q.trailing=i,Kn(t,e,Q)}function er(t,e){return pe(e,16,[t])}function nr(t){return function(){return t}}function rr(t,e,n){var r=typeof t;if(null==t||"function"==r)return ne(t,e,n);if("object"!=r)return cr(t);var i=hi(t),o=i[0],u=t[o];return 1!=i.length||u!==u||$e(u)?function(e){for(var n=i.length,r=!1;n--&&(r=ae(e[i[n]],t[i[n]],null,!0)););return r}:function(t){var e=t[o];return u===e&&(0!==u||1/u==1/e)}}function ir(t){return null==t?"":Or(t).replace(_i,de)}function or(t){return t}function ur(t,e,n){var r=!0,i=e&&Ce(e);e&&(n||i.length)||(null==n&&(n=e),o=m,e=t,t=v,i=Ce(e)),n===!1?r=!1:$e(n)&&"chain"in n&&(r=n.chain);var o=t,u=De(o);rn(i,function(n){var i=t[n]=e[n];u&&(o.prototype[n]=function(){var e=this.__chain__,n=this.__wrapped__,u=[n];Ur.apply(u,arguments);var a=i.apply(t,u);if(r||e){if(n===a&&$e(a))return this;a=new o(a),a.__chain__=e}return a})})}function ar(){return n._=Dr,this}function sr(){}function cr(t){return function(e){return e[t]}}function fr(t,e,n){var r=null==t,i=null==e;if(null==n&&("boolean"==typeof t&&i?(n=t,t=1):i||"boolean"!=typeof e||(n=e,i=!0)),r&&i&&(e=1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=oi();return ri(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return ce(t,e)}function lr(t,e){if(t){var n=t[e];return De(n)?t[e]():n}}function pr(t,e,n){var r=v.templateSettings;t=Or(t||""),n=wi({},n,r);var i,o=wi({},n.imports,r.imports),a=hi(o),s=Ze(o),c=0,f=n.interpolate||R,l="__p += '",p=Er((n.escape||R).source+"|"+f.source+"|"+(f===O?C:R).source+"|"+(n.evaluate||R).source+"|$","g");t.replace(p,function(e,n,r,o,a,s){return r||(r=o),l+=t.slice(c,s).replace(N,u),n&&(l+="' +\n__e("+n+") +\n'"),a&&(i=!0,l+="';\n"+a+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),l+="';\n";var h=n.variable,m=h;m||(h="obj",l="with ("+h+") {\n"+l+"\n}\n"),l=(i?l.replace(w,""):l).replace(q,"$1").replace(P,"$1;"),l="function("+h+") {\n"+(m?"":h+" || ("+h+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var g="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+$++ +"]")+"\n*/";try{var y=qr(a,"return "+l+g).apply(d,s)}catch(b){throw b.source=l,b}return e?y(e):(y.source=l,y)}function hr(t,e,n){t=(t=+t)>-1?t:0;var r=-1,i=xr(t);for(e=ne(e,n,1);++r<t;)i[r]=e(r);return i}function dr(t){return null==t?"":Or(t).replace(bi,ye)}function vr(t){var e=++g;return Or(null==t?"":t)+e}function mr(t){return t=new m(t),t.__chain__=!0,t}function gr(t,e){return e(t),t}function yr(){return this.__chain__=!0,this}function br(){return Or(this.__wrapped__)}function _r(){return this.__wrapped__}n=n?oe.defaults(te.Object(),n,oe.pick(te,T)):te;var xr=n.Array,jr=n.Boolean,wr=n.Date,kr=n.Error,qr=n.Function,Pr=n.Math,Cr=n.Number,Sr=n.Object,Er=n.RegExp,Or=n.String,Ar=n.TypeError,Rr=[],Ir=kr.prototype,Nr=Sr.prototype,Tr=Or.prototype,Dr=n._,$r=Nr.toString,Lr=Er("^"+Or($r).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Fr=Pr.ceil,zr=n.clearTimeout,Gr=Pr.floor,Br=qr.prototype.toString,Vr=me(Vr=Sr.getPrototypeOf)&&Vr,Mr=Nr.hasOwnProperty,Ur=Rr.push,Hr=Nr.propertyIsEnumerable,Kr=n.setTimeout,Wr=Rr.splice,Qr=Rr.unshift,Zr=function(){try{var t={},e=me(e=Sr.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),Xr=me(Xr=Sr.create)&&Xr,Jr=me(Jr=xr.isArray)&&Jr,Yr=n.isFinite,ti=n.isNaN,ei=me(ei=Sr.keys)&&ei,ni=Pr.max,ri=Pr.min,ii=n.parseInt,oi=Pr.random,ui={};ui[F]=xr,ui[z]=jr,ui[G]=wr,ui[V]=qr,ui[U]=Sr,ui[M]=Cr,ui[H]=Er,ui[K]=Or;var ai={};ai[F]=ai[G]=ai[M]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ai[z]=ai[K]={constructor:!0,toString:!0,valueOf:!0},ai[B]=ai[V]=ai[H]={constructor:!0,toString:!0},ai[U]={constructor:!0},function(){for(var t=D.length;t--;){var e=D[t];for(var n in ai)Mr.call(ai,n)&&!Mr.call(ai[n],e)&&(ai[n][e]=!1)}}(),m.prototype=v.prototype;var si=v.support={};!function(){var t=function(){this.x=1},e={0:1,length:1},r=[];t.prototype={valueOf:1,y:1};for(var i in new t)r.push(i);for(i in arguments);si.argsClass=$r.call(arguments)==L,si.argsObject=arguments.constructor==Sr&&!(arguments instanceof xr),si.enumErrorProps=Hr.call(Ir,"message")||Hr.call(Ir,"name"),si.enumPrototypes=Hr.call(t,"prototype"),si.funcDecomp=!me(n.WinRTError)&&I.test(h),si.funcNames="string"==typeof qr.name,si.nonEnumArgs=0!=i,si.nonEnumShadows=!/valueOf/.test(r),si.ownLast="x"!=r[0],si.spliceObjects=(Rr.splice.call(e,0,1),!e[0]),si.unindexedChars="x"[0]+Sr("x")[0]!="xx";try{si.nodeClass=!($r.call(document)==U&&!({toString:0}+""))}catch(o){si.nodeClass=!0}}(1),v.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:O,variable:"",imports:{_:v}};var ci=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",si.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):si.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),si.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),si.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(si.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),si.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }    ",si.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";e+="\n  }    "}return(t.array||si.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};Xr||(ee=function(){function t(){}return function(e){if($e(e)){t.prototype=e;var r=new t;t.prototype=null}return r||n.Object()}}());var fi=Zr?function(t,e){Z.value=e,Zr(t,"__bindData__",Z)}:sr;si.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Mr.call(t,"callee")&&!Hr.call(t,"callee")||!1});var li=Jr||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&$r.call(t)==F||!1},pi=he({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),hi=ei?function(t){return $e(t)?si.enumPrototypes&&"function"==typeof t||si.nonEnumArgs&&t.length&&be(t)?pi(t):ei(t):[]}:pi,di={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:hi,loop:"if (callback(iterable[index], index, collection) === false) return result"},vi={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:hi,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},mi={top:"if (!objectTypes[typeof iterable]) return result;\n"+di.top,array:!1},gi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yi=Ee(gi),bi=Er("("+hi(yi).join("|")+")","g"),_i=Er("["+hi(gi).join("")+"]","g"),xi=he(di),ji=he(vi,{top:vi.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),wi=he(vi),ki=he(di,mi,{useHas:!1}),qi=he(di,mi);De(/x/)&&(De=function(t){return"function"==typeof t&&$r.call(t)==V});var Pi=Vr?function(t){if(!t||$r.call(t)!=U||!si.argsClass&&be(t))return!1;var e=t.valueOf,n=me(e)&&(n=Vr(e))&&Vr(n);return n?t==n||Vr(t)==n:ge(t)}:ge,Ci=le(function(t,e,n){Mr.call(t,n)?t[n]++:t[n]=1}),Si=le(function(t,e,n){(Mr.call(t,n)?t[n]:t[n]=[]).push(e)}),Ei=le(function(t,e,n){t[n]=e}),Oi=an,Ai=tn,Ri=me(Ri=wr.now)&&Ri||function(){return(new wr).getTime()},Ii=8==ii(j+"08")?ii:function(t,e){return ii(Be(t)?t.replace(A,""):t,e||0)};return v.after=Gn,v.assign=ji,v.at=Xe,v.bind=Bn,v.bindAll=Vn,v.bindKey=Mn,v.chain=mr,v.compact=bn,v.compose=Un,v.constant=nr,v.countBy=Ci,v.create=je,v.createCallback=rr,v.curry=Hn,v.debounce=Kn,v.defaults=wi,v.defer=Wn,v.delay=Qn,v.difference=_n,v.filter=tn,v.flatten=kn,v.forEach=rn,v.forEachRight=on,v.forIn=ki,v.forInRight=qe,v.forOwn=qi,v.forOwnRight=Pe,v.functions=Ce,v.groupBy=Si,v.indexBy=Ei,v.initial=Pn,v.intersection=Cn,v.invert=Ee,v.invoke=un,v.keys=hi,v.map=an,v.mapValues=Me,v.max=sn,v.memoize=Zn,v.merge=Ue,v.min=cn,v.omit=He,v.once=Xn,v.pairs=Ke,v.partial=Jn,v.partialRight=Yn,v.pick=We,v.pluck=Oi,v.property=cr,v.pull=On,v.range=An,v.reject=pn,v.remove=Rn,v.rest=In,v.shuffle=dn,v.sortBy=gn,v.tap=gr,v.throttle=tr,v.times=hr,v.toArray=yn,v.transform=Qe,v.union=Tn,v.uniq=Dn,v.values=Ze,v.where=Ai,v.without=$n,v.wrap=er,v.xor=Ln,v.zip=Fn,v.zipObject=zn,v.collect=an,v.drop=In,v.each=rn,v.eachRight=on,v.extend=ji,v.methods=Ce,v.object=zn,v.select=tn,v.tail=In,v.unique=Dn,v.unzip=Fn,ur(v),v.clone=_e,v.cloneDeep=xe,v.contains=Je,v.escape=ir,v.every=Ye,v.find=en,v.findIndex=xn,v.findKey=we,v.findLast=nn,v.findLastIndex=jn,v.findLastKey=ke,v.has=Se,v.identity=or,v.indexOf=qn,v.isArguments=be,v.isArray=li,v.isBoolean=Oe,v.isDate=Ae,v.isElement=Re,v.isEmpty=Ie,v.isEqual=Ne,v.isFinite=Te,v.isFunction=De,v.isNaN=Le,v.isNull=Fe,v.isNumber=ze,v.isObject=$e,v.isPlainObject=Pi,v.isRegExp=Ge,v.isString=Be,v.isUndefined=Ve,v.lastIndexOf=En,v.mixin=ur,v.noConflict=ar,v.noop=sr,v.now=Ri,v.parseInt=Ii,v.random=fr,v.reduce=fn,v.reduceRight=ln,v.result=lr,v.runInContext=h,v.size=vn,v.some=mn,v.sortedIndex=Nn,v.template=pr,v.unescape=dr,v.uniqueId=vr,v.all=Ye,v.any=mn,v.detect=en,v.findWhere=en,v.foldl=fn,v.foldr=ln,v.include=Je,v.inject=fn,ur(function(){var t={};return qi(v,function(e,n){v.prototype[n]||(t[n]=e)}),t}(),!1),v.first=wn,v.last=Sn,v.sample=hn,v.take=wn,v.head=wn,qi(v,function(t,e){var n="sample"!==e;v.prototype[e]||(v.prototype[e]=function(e,r){var i=this.__chain__,o=t(this.__wrapped__,e,r);return i||null!=e&&(!r||n&&"function"==typeof e)?new m(o,i):o})}),v.VERSION="2.4.1",v.prototype.chain=yr,v.prototype.toString=br,v.prototype.value=_r,v.prototype.valueOf=_r,xi(["join","pop","shift"],function(t){var e=Rr[t];v.prototype[t]=function(){var t=this.__chain__,n=e.apply(this.__wrapped__,arguments);return t?new m(n,t):n}}),xi(["push","reverse","sort","unshift"],function(t){var e=Rr[t];v.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),xi(["concat","slice","splice"],function(t){var e=Rr[t];v.prototype[t]=function(){return new m(e.apply(this.__wrapped__,arguments),this.__chain__)}}),si.spliceObjects||xi(["pop","shift","splice"],function(t){var e=Rr[t],n="splice"==t;v.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,i=e.apply(r,arguments);return 0===r.length&&delete r[0],t||n?new m(i,t):i}}),v}var d,v=[],m=[],g=0,y={},b=+new Date+"",_=75,x=40,j=" 	\f \n\r\u2028\u2029 ᠎             　",w=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,S=/\w*$/,E=/^\s*function[ \n\r\t]+\w/,O=/<%=([\s\S]+?)%>/g,A=RegExp("^["+j+"]*0+(?=.$)"),R=/($^)/,I=/\bthis\b/,N=/['\n\r\t\u2028\u2029\\]/g,T=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],D=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$=0,L="[object Arguments]",F="[object Array]",z="[object Boolean]",G="[object Date]",B="[object Error]",V="[object Function]",M="[object Number]",U="[object Object]",H="[object RegExp]",K="[object String]",W={};
W[V]=!1,W[L]=W[F]=W[z]=W[G]=W[M]=W[U]=W[H]=W[K]=!0;var Q={leading:!1,maxWait:0,trailing:!1},Z={configurable:!1,enumerable:!1,value:null,writable:!1},X={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},J={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Y={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},te=J[typeof window]&&window||this,ee=J[typeof exports]&&exports&&!exports.nodeType&&exports,ne=J[typeof module]&&module&&!module.nodeType&&module,re=ne&&ne.exports===ee&&ee,ie=J[typeof global]&&global;!ie||ie.global!==ie&&ie.window!==ie||(te=ie);var oe=h();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(te._=oe,define("lodash",[],function(){return oe})):ee&&ne?re?(ne.exports=oe)._=oe:ee._=oe:te._=oe}).call(this),define("jquery-selector-data-prefix",["require","exports","module","jquery","lodash"],function(t){var e=t("jquery"),n=t("lodash");e.expr[":"]["data-prefix"]=function(t,r,i){var o=e(t).data(),u=i[3],a=new RegExp("^"+u+"([A-Z$_].*$)");return n.some(o,function(t,e){return a.test(e)})}}),define("__jquery-value/get",["require","exports","module","jquery"],function(t,e,n){var r=t("jquery"),i={"default":function(t){return t.val()},DIV:function(t){return t.html()},INPUT:function(t){var e=t.prop("type");return"checkbox"===e?t.filter(":checked").map(function(){return r(this).val()}).get():"radio"===e?t.filter(":checked").val():t.val()}};n.exports=function(t){var e=t.prop("tagName"),n=i[e]||i["default"];return n(t)}}),define("__jquery-value/set",["require","exports","module","jquery"],function(t,e,n){var r=t("jquery"),i={"default":function(t,e){return t.html(e)},INPUT:function(t,e){var n=t.prop("type");return("checkbox"===n||"radio"===n)&&(e=r.isArray(e)?e:[e]),t.val(e)},SELECT:function(t,e){return t.val(e)},IMG:function(t,e){return t.prop("src",e).trigger("change",e)},TEXTAREA:function(t,e){return t.val(e)}};n.exports=function(t,e){return t.each(function(t,n){var o=r(n),u=o.prop("tagName"),a=i[u]||i["default"];a(o,e)}),t}}),define("jquery-value",["require","exports","module","jquery","./__jquery-value/get","./__jquery-value/set"],function(t,e,n){var r=t("jquery"),i=t("./__jquery-value/get"),o=t("./__jquery-value/set"),u=n.exports=function(t,e){return 1===arguments.length?i(t):2===arguments.length?o(t,e):void 0};r.prototype.value=function(t){return 0===arguments.length?u(this):u(this,t)}}),define("__bb-model-view/update",["require","exports","module","lodash"],function(t,e){var n=t("lodash");e.updateView=function(){var t=this.pump.pump();return this.ready=n.bind(t.done,t),t},e.updateModel=function(t){var e=this.pump.drain(t);return this.ready=n.bind(e.done,e),e}}),function(t){if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define("q",t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else Q=t()}(function(){function t(t){return function(){return K.apply(t,arguments)}}function e(t){return t===Object(t)}function n(t){return"[object StopIteration]"===ee(t)||t instanceof V}function r(t,e){if(z&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(ne)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var o=n.join("\n"+ne+"\n");t.stack=i(o)}}function i(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var i=e[r];a(i)||o(i)||!i||n.push(i)}return n.join("\n")}function o(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function u(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function a(t){var e=u(t);if(!e)return!1;var n=e[0],r=e[1];return n===B&&r>=M&&ue>=r}function s(){if(z)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=u(n);if(!r)return;return B=r[0],r[1]}}function c(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}function f(t){return g(t)?t:y(t)?C(t):P(t)}function l(){function t(t){e=t,o.source=t,Q(n,function(e,n){H(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,r=void 0}var e,n=[],r=[],i=J(l.prototype),o=J(d.prototype);if(o.promiseDispatch=function(t,i,o){var u=W(arguments);n?(n.push(u),"when"===i&&o[1]&&r.push(o[1])):H(function(){e.promiseDispatch.apply(e,u)})},o.valueOf=function(){if(n)return o;var t=m(e);return g(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},f.longStackSupport&&z)try{throw new Error}catch(u){o.stack=u.stack.substring(u.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){e||t(f(n))},i.fulfill=function(n){e||t(P(n))},i.reject=function(n){e||t(q(n))},i.notify=function(t){e||Q(r,function(e,n){H(function(){n(t)})},void 0)},i}function p(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=l();try{t(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}return e.promise}function h(t){return p(function(e,n){for(var r=0,i=t.length;i>r;r++)f(t[r]).then(e,n)})}function d(t,e,n){void 0===e&&(e=function(t){return q(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=J(d.prototype);if(r.promiseDispatch=function(n,i,o){var u;try{u=t[i]?t[i].apply(r,o):e.call(r,i,o)}catch(a){u=q(a)}n&&n(u)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function v(t,e,n,r){return f(t).then(e,n,r)}function m(t){if(g(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function g(t){return e(t)&&"function"==typeof t.promiseDispatch&&"function"==typeof t.inspect}function y(t){return e(t)&&"function"==typeof t.then}function b(t){return g(t)&&"pending"===t.inspect().state}function _(t){return!g(t)||"fulfilled"===t.inspect().state}function x(t){return g(t)&&"rejected"===t.inspect().state}function j(){re.length=0,ie.length=0,oe||(oe=!0)}function w(t,e){oe&&(ie.push(t),re.push(e&&"undefined"!=typeof e.stack?e.stack:"(no stack) "+e))}function k(t){if(oe){var e=Z(ie,t);-1!==e&&(ie.splice(e,1),re.splice(e,1))}}function q(t){var e=d({when:function(e){return e&&k(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return w(e,t),e}function P(t){return d({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return te(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function C(t){var e=l();return H(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function S(t){return d({isDef:function(){}},function(e,n){return N(t,e,n)},function(){return f(t).inspect()})}function E(t,e,n){return f(t).spread(e,n)}function O(t){return function(){function e(t,e){var u;if("undefined"==typeof StopIteration){try{u=r[t](e)}catch(a){return q(a)}return u.done?u.value:v(u.value,i,o)}try{u=r[t](e)}catch(a){return n(a)?a.value:q(a)}return v(u,i,o)}var r=t.apply(this,arguments),i=e.bind(e,"next"),o=e.bind(e,"throw");return i()}}function A(t){f.done(f.async(t)())}function R(t){throw new V(t)}function I(t){return function(){return E([this,T(arguments)],function(e,n){return t.apply(e,n)})}}function N(t,e,n){return f(t).dispatch(e,n)}function T(t){return v(t,function(t){var e=0,n=l();return Q(t,function(r,i,o){var u;g(i)&&"fulfilled"===(u=i.inspect()).state?t[o]=u.value:(++e,v(i,function(r){t[o]=r,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:o,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function D(t){return v(t,function(t){return t=X(t,f),v(T(X(t,function(t){return v(t,U,U)})),function(){return t})})}function $(t){return f(t).allSettled()}function L(t,e){return f(t).then(void 0,void 0,e)}function F(t,e){return f(t).nodeify(e)}var z=!1;try{throw new Error}catch(G){z=!!G.stack}var B,V,M=s(),U=function(){},H=function(){function t(){for(;e.next;){e=e.next;var n=e.task;e.task=void 0;var i=e.domain;i&&(e.domain=void 0,i.enter());try{n()}catch(u){if(o)throw i&&i.exit(),setTimeout(t,0),i&&i.enter(),u;setTimeout(function(){throw u},0)}i&&i.exit()}r=!1}var e={task:void 0,next:null},n=e,r=!1,i=void 0,o=!1;if(H=function(t){n=n.next={task:t,domain:o&&process.domain,next:null},r||(r=!0,i())},"undefined"!=typeof process&&process.nextTick)o=!0,i=function(){process.nextTick(t)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=function(){i=a,u.port1.onmessage=t,t()};var a=function(){u.port2.postMessage(0)};i=function(){setTimeout(t,0),a()}}else i=function(){setTimeout(t,0)};return H}(),K=Function.call,W=t(Array.prototype.slice),Q=t(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(e=t(e,this[n],n));return e}),Z=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),X=t(Array.prototype.map||function(t,e){var n=this,r=[];return Q(n,function(i,o,u){r.push(t.call(e,o,u,n))},void 0),r}),J=Object.create||function(t){function e(){}return e.prototype=t,new e},Y=t(Object.prototype.hasOwnProperty),te=Object.keys||function(t){var e=[];for(var n in t)Y(t,n)&&e.push(n);return e},ee=t(Object.prototype.toString);V="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var ne="From previous event:";f.resolve=f,f.nextTick=H,f.longStackSupport=!1,f.defer=l,l.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):t.resolve(arguments.length>2?W(arguments,1):n)}},f.Promise=p,f.promise=p,p.race=h,p.all=T,p.reject=q,p.resolve=f,f.passByCopy=function(t){return t},d.prototype.passByCopy=function(){return this},f.join=function(t,e){return f(t).join(e)},d.prototype.join=function(t){return f([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Can't join: not the same: "+t+" "+e)})},f.race=h,d.prototype.race=function(){return this.then(f.race)},f.makePromise=d,d.prototype.toString=function(){return"[object Promise]"},d.prototype.then=function(t,e,n){function i(e){try{return"function"==typeof t?t(e):e}catch(n){return q(n)}}function o(t){if("function"==typeof e){r(t,a);try{return e(t)}catch(n){return q(n)}}return q(t)}function u(t){return"function"==typeof n?n(t):t}var a=this,s=l(),c=!1;return H(function(){a.promiseDispatch(function(t){c||(c=!0,s.resolve(i(t)))},"when",[function(t){c||(c=!0,s.resolve(o(t)))}])}),a.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=u(t)}catch(r){if(n=!0,!f.onerror)throw r;f.onerror(r)}n||s.notify(e)}]),s.promise},f.when=v,d.prototype.thenResolve=function(t){return this.then(function(){return t})},f.thenResolve=function(t,e){return f(t).thenResolve(e)},d.prototype.thenReject=function(t){return this.then(function(){throw t})},f.thenReject=function(t,e){return f(t).thenReject(e)},f.nearer=m,f.isPromise=g,f.isPromiseAlike=y,f.isPending=b,d.prototype.isPending=function(){return"pending"===this.inspect().state},f.isFulfilled=_,d.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},f.isRejected=x,d.prototype.isRejected=function(){return"rejected"===this.inspect().state};var re=[],ie=[],oe=!0;f.resetUnhandledRejections=j,f.getUnhandledReasons=function(){return re.slice()},f.stopUnhandledRejectionTracking=function(){j(),oe=!1},j(),f.reject=q,f.fulfill=P,f.master=S,f.spread=E,d.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},f.async=O,f.spawn=A,f["return"]=R,f.promised=I,f.dispatch=N,d.prototype.dispatch=function(t,e){var n=this,r=l();return H(function(){n.promiseDispatch(r.resolve,t,e)}),r.promise},f.get=function(t,e){return f(t).dispatch("get",[e])},d.prototype.get=function(t){return this.dispatch("get",[t])},f.set=function(t,e,n){return f(t).dispatch("set",[e,n])},d.prototype.set=function(t,e){return this.dispatch("set",[t,e])},f.del=f["delete"]=function(t,e){return f(t).dispatch("delete",[e])},d.prototype.del=d.prototype["delete"]=function(t){return this.dispatch("delete",[t])},f.mapply=f.post=function(t,e,n){return f(t).dispatch("post",[e,n])},d.prototype.mapply=d.prototype.post=function(t,e){return this.dispatch("post",[t,e])},f.send=f.mcall=f.invoke=function(t,e){return f(t).dispatch("post",[e,W(arguments,2)])},d.prototype.send=d.prototype.mcall=d.prototype.invoke=function(t){return this.dispatch("post",[t,W(arguments,1)])},f.fapply=function(t,e){return f(t).dispatch("apply",[void 0,e])},d.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},f["try"]=f.fcall=function(t){return f(t).dispatch("apply",[void 0,W(arguments,1)])},d.prototype.fcall=function(){return this.dispatch("apply",[void 0,W(arguments)])},f.fbind=function(t){var e=f(t),n=W(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(W(arguments))])}},d.prototype.fbind=function(){var t=this,e=W(arguments);return function(){return t.dispatch("apply",[this,e.concat(W(arguments))])}},f.keys=function(t){return f(t).dispatch("keys",[])},d.prototype.keys=function(){return this.dispatch("keys",[])},f.all=T,d.prototype.all=function(){return T(this)},f.allResolved=c(D,"allResolved","allSettled"),d.prototype.allResolved=function(){return D(this)},f.allSettled=$,d.prototype.allSettled=function(){return this.then(function(t){return T(X(t,function(t){function e(){return t.inspect()}return t=f(t),t.then(e,e)}))})},f.fail=f["catch"]=function(t,e){return f(t).then(void 0,e)},d.prototype.fail=d.prototype["catch"]=function(t){return this.then(void 0,t)},f.progress=L,d.prototype.progress=function(t){return this.then(void 0,void 0,t)},f.fin=f["finally"]=function(t,e){return f(t)["finally"](e)},d.prototype.fin=d.prototype["finally"]=function(t){return t=f(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},f.done=function(t,e,n,r){return f(t).done(e,n,r)},d.prototype.done=function(t,e,n){var i=function(t){H(function(){if(r(t,o),!f.onerror)throw t;f.onerror(t)})},o=t||e||n?this.then(t,e,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),o.then(void 0,i)},f.timeout=function(t,e,n){return f(t).timeout(e,n)},d.prototype.timeout=function(t,e){var n=l(),r=setTimeout(function(){n.reject(new Error(e||"Timed out after "+t+" ms"))},t);return this.then(function(t){clearTimeout(r),n.resolve(t)},function(t){clearTimeout(r),n.reject(t)},n.notify),n.promise},f.delay=function(t,e){return void 0===e&&(e=t,t=void 0),f(t).delay(e)},d.prototype.delay=function(t){return this.then(function(e){var n=l();return setTimeout(function(){n.resolve(e)},t),n.promise})},f.nfapply=function(t,e){return f(t).nfapply(e)},d.prototype.nfapply=function(t){var e=l(),n=W(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},f.nfcall=function(t){var e=W(arguments,1);return f(t).nfapply(e)},d.prototype.nfcall=function(){var t=W(arguments),e=l();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},f.nfbind=f.denodeify=function(t){var e=W(arguments,1);return function(){var n=e.concat(W(arguments)),r=l();return n.push(r.makeNodeResolver()),f(t).fapply(n).fail(r.reject),r.promise}},d.prototype.nfbind=d.prototype.denodeify=function(){var t=W(arguments);return t.unshift(this),f.denodeify.apply(void 0,t)},f.nbind=function(t,e){var n=W(arguments,2);return function(){function r(){return t.apply(e,arguments)}var i=n.concat(W(arguments)),o=l();return i.push(o.makeNodeResolver()),f(r).fapply(i).fail(o.reject),o.promise}},d.prototype.nbind=function(){var t=W(arguments,0);return t.unshift(this),f.nbind.apply(void 0,t)},f.nmapply=f.npost=function(t,e,n){return f(t).npost(e,n)},d.prototype.nmapply=d.prototype.npost=function(t,e){var n=W(e||[]),r=l();return n.push(r.makeNodeResolver()),this.dispatch("post",[t,n]).fail(r.reject),r.promise},f.nsend=f.nmcall=f.ninvoke=function(t,e){var n=W(arguments,2),r=l();return n.push(r.makeNodeResolver()),f(t).dispatch("post",[e,n]).fail(r.reject),r.promise},d.prototype.nsend=d.prototype.nmcall=d.prototype.ninvoke=function(t){var e=W(arguments,1),n=l();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},f.nodeify=F,d.prototype.nodeify=function(t){return t?void this.then(function(e){H(function(){t(null,e)})},function(e){H(function(){t(e)})}):this};var ue=s();return f}),define("__pipe/streams/pump",["require","exports","module","lodash","q"],function(t,e,n){function r(t,e,n){var r=i.map(n,function(n){return this._destSet(e,n,t)},this);return o.all(r)}var i=t("lodash"),o=t("q");n.exports=function(t,e,n){var u=this.destination;return o(this._srcGet(this.source,t)).then(i.bind(function(i){return!this.isCached(t,i)||n?r.call(this,i,u,e):void 0},this)).fail(function(t){throw t})}}),define("__pipe/streams/drain",["require","exports","module","lodash","q"],function(t,e,n){var r=t("lodash"),i=t("q");n.exports=function(t,e,n){return i(this._destGet(this.destination,e[0])).then(r.bind(function(e){return!this.isCached(t,e)||n?this._srcSet(this.source,t,e):void 0},this)).fail(function(t){throw t})}}),define("__pipe/streams/index",["require","exports","module","lodash","q","./pump","./drain"],function(t,e){function n(t,e,n){var o=i.defer();e=e?r.pick(this._map,e):this._map;var u=r.map(e,function(e,r){return t.call(this,r,e,n)},this);return i.all(u).done(function(){o.resolve()}),o.promise}var r=t("lodash"),i=t("q");e.pump=r.partial(n,t("./pump")),e.drain=r.partial(n,t("./drain")),e.inject=function(t,e){if(!this.source)throw new Error("No source for pipe");var n=r.map(t,function(t,n){return!this.isCached(n,t)||e?this._srcSet(this.source,n,t):void 0},this);return i.all(n).then(r.bind(function(){this.pump(void 0,!0)},this),function(t){throw t})}}),define("__pipe/mapping",["require","exports","module","lodash"],function(t,e){var n=t("lodash");e.map=function(){var t,e;return n.isString(arguments[0])?(t=arguments[0],e=arguments[1]||t,e=n.isArray(e)?e:[e],this._map[t]=e):n.isObject(arguments[0])&&n.each(arguments[0],function(t,e){this.map(e,t)},this),this},e.removeLine=function(t){return delete this._map[t],this}}),define("pipe",["require","exports","module","subject","lodash","./__pipe/streams/index","./__pipe/mapping"],function(t,e,n){var r=t("subject"),i=t("lodash"),o=["srcGet","srcSet","destGet","destSet"],u=n.exports=r({initialize:function(t,e){e=e||{},i.each(o,function(t){this[t]=e[t]||this[t]},this),this._srcGet=this.srcGet||this.get,this._srcSet=this.srcSet||this.set,this._destGet=this.destGet||this.get,this._destSet=this.destSet||this.set,e.cache!==!1&&this.clearCache(),e.source&&this.from(e.source),e.destination&&this.to(e.destination),this._map={},this.map(t)},get:function(t,e){return t[e]},set:function(t,e,n){return t[e]=n,t},clearCache:function(){return this.cache={},this},isCached:function(t,e){return this.cache?this.cache[t]!==e?(this.cache[t]=e,!1):!0:!1},to:function(t){return this.clearCache(),this.destination=t,this},from:function(t){return this.clearCache(),this.source=t,this}});u.assignProto(t("./__pipe/streams/index")).assignProto(t("./__pipe/mapping"))}),define("__pump/pipe",["require","exports","module","lodash"],function(t,e){var n=t("lodash");e.addPipe=function(){var t,e,r;n.isString(arguments[0])?(t=arguments[0],e=arguments[1],r=arguments[2]||{}):(t=n.uniqueId("pipe"),e=arguments[0],r=arguments[1]||{}),r.source=this.source;var i=this._buildPipe(e,r);return 0===n.size(this.pipes)&&this.setDrainingPipe(t),this.pipes[t]=i,i},e.pipe=e.addPipe,e.removePipe=function(t,e){return n.isFunction(t)?n.each(this.pipes,function(n,r){t.call(e,n,r)&&delete this.pipes[r]},this):n.isArray(t)?n.each(t,function(e,r){n.contains(t,r)&&delete this.pipes[r]},this):delete this.pipes[t],this},e.unpipe=e.removePipe}),define("__pump/streams/pump",["require","exports","module","lodash","q"],function(t,e){var n=t("lodash"),r=t("q");e.pump=function(t,e,i){var o;t?(t=n.isArray(t)?t:[t],o=n.pick(this.pipes,t)):o=this.pipes;var u=n.map(o,function(t){return t.pump(e,i)});return r.all(u)}}),define("__pump/streams/drain",["require","exports","module","lodash","q"],function(t,e){function n(t){return r.isString(this.drainingPipe)?this.pipes[this.drainingPipe]:r.isFunction(this.drainingPipe)?this.drainingPipe(t):r.isObject(this.drainingPipe)?this.drainingPipe:void 0}var r=t("lodash");t("q"),e.drainingPipe=void 0,e.drain=function(t,e,r){var i=this.pipes[t]||n.call(this,e);if(!i)throw new Error('Pipe "'+t+'" not found.');return i.drain(e,r)},e.setDrainingPipe=function(t){return this.drainingPipe=t,this}}),define("__pump/streams/inject",["require","exports","module","lodash","q"],function(t,e){var n=t("lodash"),r=t("q");e.inject=function(t,e){var i=this.srcSet||this.set;if(!this.source)throw new Error("No source for pump");var o=n.map(t,function(t,e){return i.call(this,this.source,e,t)},this);return r.all(o).then(n.bind(function(){this.pump(e)},this)).fail(function(t){throw t})}}),define("pump",["require","exports","module","subject","lodash","pipe","./__pump/pipe","./__pump/streams/pump","./__pump/streams/drain","./__pump/streams/inject"],function(t,e,n){var r=t("subject"),i=t("lodash"),o=t("pipe"),u=["srcGet","srcSet","destGet","destSet"],a=n.exports=r({initialize:function(t,e){this.source=t,this._buildPipe=o.extend(i.pick(this,u)),this.pipes={},i.each(e,function(t,e){this.pipe(e,t)},this)},from:function(t){return this.source=t,i.each(this.pipes,function(e){e.from(t)}),this},get:function(t,e){return t[e]},set:function(t,e,n){return t[e]=n,this}});a.assignProto(t("./__pump/pipe")).assignProto(t("./__pump/streams/pump")).assignProto(t("./__pump/streams/drain")).assignProto(t("./__pump/streams/inject"))}),define("__jquery-meta-data/helpers",["require","exports","module","jquery","lodash"],function(t,e){t("jquery"),t("lodash"),e.buildPrefixRegExp=function(t){return new RegExp("^"+t+"([A-Z$_].*$)")},e.lowercaseFirst=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.uppercaseFirst=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.fullKey=function(t,n){return t?t+e.uppercaseFirst(n):n}}),define("__jquery-meta-data/read",["require","exports","module","lodash","./helpers"],function(t,e){function n(t){return t}var r=t("lodash"),i=t("./helpers");e.all=function(t,e){var o=t.data(),u=e.parse||n;if(e.prefix){var a=i.buildPrefixRegExp(e.prefix);return r.transform(o,function(n,r,o){var s=o.match(a);if(s){var c=i.lowercaseFirst(s[1]);r=u(r,c,o),e.replace&&t.data(o,r),n[c]=r}})}return r.mapValues(o,function(t,e){return u(t,e,e)})},e.single=function(t,e,n){var r=i.fullKey(e.prefix,n),o=t.data(r);return e.parse&&(o=e.parse(o,n,r),e.replace&&t.data(r,o)),o}}),define("__jquery-meta-data/set",["require","exports","module","lodash","./helpers"],function(t,e){var n=t("lodash"),r=t("./helpers");e.single=function(t,e,n,i){var o=r.fullKey(e.prefix,n);i=e.stringify?e.stringify(i,n,o):i,t.data(o,i)},e.multiple=function(t,r,i){n.each(i,function(n,i){e.single(t,r,i,n)})}}),define("jquery-meta-data",["require","exports","module","jquery","lodash","./__jquery-meta-data/read","./__jquery-meta-data/set"],function(t){var e=t("jquery"),n=t("lodash"),r=t("./__jquery-meta-data/read"),i=t("./__jquery-meta-data/set"),o={};e.metaData=function(){n.isObject(arguments[0])?n.assign(o,arguments[0]):o[arguments[0]]=arguments[1]},e.prototype.metaData=function(t){return t=n.isString(t)?o[t]:t,1===arguments.length?r.all(this,t):2!==arguments.length?(i.single(this,t,arguments[1],arguments[2]),this):n.isString(arguments[1])?r.single(this,t,arguments[1]):n.isObject(arguments[1])?(i.multiple(this,t,arguments[1]),this):void 0}}),define("__jquery-pump/parse-method-string",["require","exports","module"],function(t,e,n){var r=/\s*:\s*/g,i=/(?:(.+?)\|)?(.+?)$/;n.exports=function(t){var e=t.match(i),n=e[2].split(r),o=n.shift();return{selector:e[1],method:o,args:n}}}),define("__jquery-pump/getter-setter",["require","exports","module","jquery","./parse-method-string"],function(t,e){var n=(t("jquery"),t("./parse-method-string"));e.destGet=function(t,e){var r=n(e);return t[r.method].apply(t,r.args)},e.destSet=function(t,e,r){var i=n(e),o=i.selector,u=i.args;return u.push(r),t=o?t.find(o):t,t[i.method].apply(t,u)}}),define("jquery-pump",["require","exports","module","pump","jquery","jquery-meta-data","./__jquery-pump/getter-setter"],function(t,e,n){var r=t("pump"),i=t("jquery"),o=(t("jquery-meta-data"),n.exports=r.extend({initialize:function(t,e){e=e||{};var n=e.destination;_.defaults(e,this.metaDataOptions),_.defaults(e,{prefix:this.prefix}),r.prototype.initialize.call(this,t),_.each(n,function(t){var n=i(t),r=n.metaData(e),o=this.pipe(r);o.to(n)},this)},prefix:"pipe",metaDataOptions:{parse:function(t){return t.split(/\s*,\s*/g)}}}));o.assignProto(t("./__jquery-pump/getter-setter")),i.prototype.pump=function(t,e){return e=e||{},e.destination=this,o(t,e)}}),define("__bb-model-view/model-pump",["require","exports","module","jquery-pump","lodash"],function(t,e){function n(t){return t}function r(t,e){if(!t)return n;var r=t[e];return r?o.isFunction(r)?r:t[r]:n}var i=t("jquery-pump"),o=t("lodash");e.modelPump=i.extend({initialize:function(t,e){o.bindAll(this,["srcGet","srcSet"]),i.prototype.initialize.call(this,t,e),e=e||{},o.each(["stringify","stringifiers","parsers","parse"],function(t){this[t]=e[t]||this[t]},this);o.each(this.pipes,function(t,e){var n=t.destination;n.data(this.bbmvIDAttribute,e)},this)},bbmvIDAttribute:"bbmvID",srcGet:function(t,e){var n=t.get(e);return this.stringify(e,n)},srcSet:function(t,e,n){var n=t.set(e,n);return this.parse(e,n)},stringifiers:{},stringify:function(t,e){var n=r(this.stringifiers,t);return n(e)},parsers:{},parse:function(t,e){var n=r(this.parsers,t);return n(e)}})}),define("__bb-model-view/elements",["require","exports","module"],function(t,e){e.prefix="bind",e.boundElements=function(){var t=this.$el.find(":data-prefix("+this.prefix+")");return this.$el.add(t)}}),define("bb-model-view",["require","exports","module","jquery-selector-data-prefix","lodash","lowercase-backbone","jquery-value","./__bb-model-view/update","./__bb-model-view/model-pump","./__bb-model-view/elements"],function(t,e,n){t("jquery-selector-data-prefix");var r=t("lodash"),i=t("lowercase-backbone"),o=(t("jquery-value"),["parse","parsers","stringify","stringifiers","prefix"]),u=n.exports=i.view.extend({initialize:function(){i.view.prototype.initialize.apply(this,arguments),this.initializeModelView.apply(this,arguments)},initializeModelView:function(t){if(!this.model)throw new Error("No model set for model view.");if(!this.$el)throw new Error("No el set on model view.");var e=this.boundElements(),n=r.pick(t,o);r.defaults(n,r.pick(this,o)),n.destination=e,this.pump=this.modelPump(this.model,n),e.filter(":input").on("change",r.bind(function(t){var e=$(t.target).data(this.pump.bbmvIDAttribute);this.pump.drain(e)},this)),this.model.on("change",r.bind(function(){this.pump.pump()},this)),this.updateView()}});u.assignProto(t("./__bb-model-view/update")).assignProto(t("./__bb-model-view/model-pump")).assignProto(t("./__bb-model-view/elements"))});